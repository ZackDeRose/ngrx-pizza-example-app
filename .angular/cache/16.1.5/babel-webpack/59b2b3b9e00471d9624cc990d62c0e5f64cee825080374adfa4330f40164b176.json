{"ast":null,"code":"import { createAction, createFeatureSelector, createReducer, createSelector, on } from '@ngrx/store';\n// actions\nexport const addPepperoni = createAction('[Pizza Detail] Add Pepperoni');\nexport const removePepperoni = createAction('[Pizza Detail] Remove Pepperoni');\nexport const addSausage = createAction('[Pizza Detail] Add Sausage');\nexport const removeSausage = createAction('[Pizza Detail] Remove Sausage');\nconst initialState = {\n  hasPepperoni: false,\n  hasSausage: false\n};\nexport const reducer = createReducer(initialState, on(addPepperoni, state => ({\n  ...state,\n  hasPepperoni: true\n})), on(removePepperoni, state => ({\n  ...state,\n  hasPepperoni: false\n})), on(addSausage, state => ({\n  ...state,\n  hasSausage: true\n})), on(removeSausage, state => ({\n  ...state,\n  hasSausage: false\n})));\n// selectors\nexport const PIZZA_FEATURE_NAME = 'pizza';\nconst CHEESE_PIZZA_IMAGE = 'assets/cheese_pizza.jpeg';\nconst PEPPERONI_PIZZA_IMAGE = 'assets/pepperoni_pizza.jpeg';\nconst SAUSAGE_PIZZA_IMAGE = 'assets/sausage_pizza.jpeg';\nconst PEPPERONI_AND_SAUSAGE_PIZZA_IMAGE = 'assets/sausage_and_pepperoni_pizza.jpeg';\nfunction determineImageUrl({\n  hasPepperoni,\n  hasSausage\n}) {\n  if (hasPepperoni && hasSausage) {\n    return PEPPERONI_AND_SAUSAGE_PIZZA_IMAGE;\n  } else if (hasPepperoni) {\n    return PEPPERONI_PIZZA_IMAGE;\n  } else if (hasSausage) {\n    return SAUSAGE_PIZZA_IMAGE;\n  } else {\n    return CHEESE_PIZZA_IMAGE;\n  }\n}\nconst STARTING_PRICE = 12;\nconst PEPPERONI_PRICE = 3;\nconst SAUSAGE_PRICE = 2.5;\nfunction determinePrice({\n  hasPepperoni,\n  hasSausage\n}) {\n  return STARTING_PRICE + (hasPepperoni ? PEPPERONI_PRICE : 0) + (hasSausage ? SAUSAGE_PRICE : 0);\n}\nconst pizzaFeatureSelector = createFeatureSelector(PIZZA_FEATURE_NAME);\nexport const selectPizzaImage = createSelector(pizzaFeatureSelector, pizzaState => determineImageUrl(pizzaState));\nexport const selectPizzaPrice = createSelector(pizzaFeatureSelector, determinePrice);\nexport const hasPepperoni = createSelector(pizzaFeatureSelector, pizzaState => pizzaState.hasPepperoni);\nexport const hasSausage = createSelector(pizzaFeatureSelector, pizzaState => pizzaState.hasSausage);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}